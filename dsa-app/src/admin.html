<!-- Simple admin page - put this in /src/admin.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard - Paisaprapti</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #667eea; color: white; }
    </style>
</head>
<body>
    <h1>Admin Dashboard</h1>
    <div id="customersList"></div>
    <script>
        const ADMIN_PASSWORD = "paisaprapti123"; // Change this password
        
        function checkPassword() {
            const password = prompt("Enter admin password:");
            if (password === ADMIN_PASSWORD) {
                loadCustomers();
            } else {
                alert("Invalid password");
                window.location.href = "/";
            }
        }

        async function loadCustomers() {
            const response = await fetch('/.netlify/functions/getCustomers');
            const customers = await response.json();
            
            let html = `<h2>Recent Customers (${customers.length})</h2>
                       <table><tr><th>Name</th><th>Phone</th><th>Pincode</th><th>Loan Amount</th><th>Date</th></tr>`;
            
            customers.forEach(customer => {
                html += `<tr>
                    <td>${customer.name}</td>
                    <td>${customer.phone}</td>
                    <td>${customer.pincode}</td>
                    <td>â‚¹${customer.loanAmount?.toLocaleString() || '0'}</td>
                    <td>${customer.date}</td>
                </tr>`;
            });
            
            html += '</table>';
            document.getElementById('customersList').innerHTML = html;
        }

        checkPassword();
    </script>
</body>
</html>
